import axios from "axios";

// Instance Axios
const api = axios.create({
  baseURL: "http://localhost:8000", // ton backend FastAPI
  headers: {
    "Content-Type": "application/json",
  },
});

//======================================================================================
//-----------------------------------Demander OF ERP------------------------------------
//======================================================================================
export async function getOFs() {
  return api.get("/of");
}

//======================================================================================
//----------------------------Créer un OF Stocké dans mySQL-----------------------------
//======================================================================================
export async function createOF(data: {
  provenance: string;
  reference: string;
  codeProduit: string;
  quantite: number;
  datePlanifiee: string;
}) {
  return api.post("/of", data);
}


//======================================================================================
//-------------------------------------Lancer un OF-------------------------------------
//======================================================================================
export async function launchOF(ofId: string) {
  return api.post(`/of/${ofId}/launch`);
}

//======================================================================================
//------------------------------------Suprimé un OF-------------------------------------
//======================================================================================
export async function deleteOF(ofId: string) {
  return api.delete(`/of/${ofId}`);
}


//======================================================================================
//------------------------------Demande authentification--------------------------------
//======================================================================================
export async function login(username: string) {
  return api.post("/login", { username });
}


export default api;